<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>My First Webpage</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
            background-color: #f9f9f9;
            color: #333;
        }

        header {
            text-align: center;
            padding: 20px;
            background-color: #4CAF50;
            color: white;
            border-radius: 8px;
        }

        main {
            margin-top: 20px;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            font-size: 0.9em;
            color: #666;
        }

        #result {
            font-size: 20px;
            color: #4CAF50;
            font-weight: bold;
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            border-radius: 8px;
        }

        #errorMsg {
            font-size: 16px;
            color: #666;
            font-weight: bold;
            text-align: center;
            margin: 15px 0;
            padding: 12px;
            border-radius: 4px;
            display: none;
        }
    </style>
</head>

<body onload="checkCookies();">
    <header>
        <h1>Welcome to My JS class</h1>
        <p>Homework 7.2 - Cookies</p>
    </header>
    <h2> Homework 7.2 - Cookies</h2>

    <div id="result"></div>

    <div id="errorMsg"></div>

    <br>
    <div id="myform">
        <form>
            <label for="name">Type your name:</label>
            <input type="text" name="name" id="name" placeholder="e.g., John Doe">
            <br>
            <br>
            <label for="username">Type your username:</label>
            <input type="text" name="username" id="username" placeholder="e.g., johndoe123">
            <br>
            <br>
            <input type="button" value="Save Information" onclick="createCookies();">
            <input type="reset" value="Clear Form">
        </form>
    </div>
    <br>
    <ul>
        <li><a href="hw7.html"> Go to Homework 7 </a></li>
    </ul>
    <ul>
        <li><a href="index.html"> Go back to the list with homework </a></li>
    </ul>
    <footer>
        <p>&copy; 2025 My JS Webpage</p>
    </footer>
    <script>
        function createCookies() {
            var nameValue = document.getElementById("name").value;
            var usernameValue = document.getElementById("username").value;
            var errorDiv = document.getElementById("errorMsg");

       
            errorDiv.style.display = "none";
            errorDiv.innerHTML = "";

        
            if (nameValue.trim() === "" || usernameValue.trim() === "") {
                errorDiv.innerHTML = "Please fill in both Name and Username fields.";
                errorDiv.style.display = "block";
                return;
            }
            
            document.cookie = "userName=" + nameValue + ";path=/";
            document.cookie = "userUsername=" + usernameValue + ";path=/";
        
            history.go(0);
        }
        function getCookie(cName) {
            var name = cName + "=";
            var ca = document.cookie.split(';');
            for (var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }
        function checkCookies() {
            var name = getCookie("userName");
            var username = getCookie("userUsername");
          
            if (name != "" && username != "") {
                console.log("Name: " + name);
                console.log("Username: " + username);
                document.getElementById("result").innerHTML = "Welcome back " + name + "  with userName:" + username + "!";
                document.getElementById("myform").style.display = "none";
            } else {
                document.getElementById("result").innerHTML = "";
                document.getElementById("myform").style.display = "block";
            }
        }
    </script>
</body>

</html>